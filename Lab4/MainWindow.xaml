<Window x:Class="Lab4.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Lab4"
        mc:Ignorable="d"
        Title="Калькулятор" Height="600" Width="380" MinWidth="300" MinHeight="420" Background="#F0F0F0" FontFamily="Segoe UI"
        >
    <!-- Загальна структура: Grid з двома основними зонами:
         1) Display (попередній вираз + поточне число)
         2) Панель кнопок (UniformGrid для рівних кнопок) -->
    <Window.Resources>
        <!-- Кольори -->
        <SolidColorBrush x:Key="BgPanel" Color="White"/>
        <SolidColorBrush x:Key="BtnNumber" Color="White"/>
        <SolidColorBrush x:Key="BtnOperator" Color="#EFEFEF"/>
        <SolidColorBrush x:Key="BtnSpecial" Color="#FBFBFB"/>
        <SolidColorBrush x:Key="BtnEquals" Color="#2D6CDF"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#111111"/>
        <SolidColorBrush x:Key="TextMuted" Color="#6E6E6E"/>

        <!-- Базовий стиль кнопки: невеликий відступ, границя -->
        <Style x:Key="BaseBtn" TargetType="Button">
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Padding" Value="6"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#D0D0D0"/>
        </Style>

        <Style x:Key="NumberBtn" TargetType="Button" BasedOn="{StaticResource BaseBtn}">
            <Setter Property="Background" Value="{StaticResource BtnNumber}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="OperatorBtn" TargetType="Button" BasedOn="{StaticResource BaseBtn}">
            <Setter Property="Background" Value="{StaticResource BtnOperator}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style x:Key="SpecialBtn" TargetType="Button" BasedOn="{StaticResource BaseBtn}">
            <Setter Property="Background" Value="{StaticResource BtnSpecial}"/>
            <Setter Property="Foreground" Value="{StaticResource TextMuted}"/>
        </Style>

        <Style x:Key="EqualsBtn" TargetType="Button" BasedOn="{StaticResource BaseBtn}">
            <Setter Property="Background" Value="{StaticResource BtnEquals}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderBrush" Value="#1F4FB8"/>
        </Style>

        <!-- Простий стиль для дисплею -->
        <Style x:Key="DisplayBox" TargetType="TextBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="Padding" Value="4"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>
    </Window.Resources>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- дисплей -->
            <RowDefinition Height="8"/>
            <!-- невеликий відступ -->
            <RowDefinition Height="*"/>
            <!-- кнопки -->
        </Grid.RowDefinitions>

        <!-- Дисплей -->
        <Border Grid.Row="0" Background="{StaticResource BgPanel}" BorderBrush="#D8D8D8" BorderThickness="1" Padding="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBox x:Name="PreviousExpressionTextBox" Grid.Row="0" Style="{StaticResource DisplayBox}"
                         FontSize="14" Foreground="{StaticResource TextMuted}" Text="" HorizontalContentAlignment="Right"/>

                <TextBox x:Name="CurrentNumberTextBox" Grid.Row="1" Style="{StaticResource DisplayBox}"
                         FontSize="36" FontWeight="SemiBold" Text="0" HorizontalContentAlignment="Right"/>
            </Grid>
        </Border>

        <!-- Панель кнопок -->
        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- ряд 1: C, CE, <, / -->
                <RowDefinition Height="*"/>
                <!-- ряд 2 -->
                <RowDefinition Height="*"/>
                <!-- ряд 3 -->
                <RowDefinition Height="*"/>
                <!-- ряд 4 -->
                <RowDefinition Height="*"/>
                <!-- ряд 5 -->
            </Grid.RowDefinitions>

            <!-- Ряд 1: спеціальні -->
            <UniformGrid Grid.Row="0" Columns="4" Rows="1" HorizontalAlignment="Stretch">
                <Button Style="{StaticResource SpecialBtn}" Click="ClearAll_Click" Content="C"/>
                <Button Style="{StaticResource SpecialBtn}" Click="ClearEntry_Click" Content="CE"/>
                <Button Style="{StaticResource SpecialBtn}" Click="Backspace_Click" Content="&lt;"/>
                <Button Style="{StaticResource OperatorBtn}" Click="Operator_Click" Tag="/" Content="÷"/>
            </UniformGrid>

            <!-- Rows 2-4: UniformGrid (3 row x 4 col) -->
            <UniformGrid Grid.Row="1" Grid.RowSpan="3" Columns="4" Rows="3">
                <!-- row 2 -->
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="7"/>
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="8"/>
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="9"/>
                <Button Style="{StaticResource OperatorBtn}" Click="Operator_Click" Tag="*" Content="×"/>

                <!-- row 3 -->
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="4"/>
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="5"/>
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="6"/>
                <Button Style="{StaticResource OperatorBtn}" Click="Operator_Click" Tag="-" Content="-"/>

                <!-- row 4 -->
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="1"/>
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="2"/>
                <Button Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="3"/>
                <Button Style="{StaticResource OperatorBtn}" Click="Operator_Click" Tag="+" Content="+"/>
            </UniformGrid>

            <!-- Row 5: 0, ., =  ( = spans two cols ) -->
            <Grid Grid.Row="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="0" Style="{StaticResource NumberBtn}" Click="Digit_Click" Content="0"/>
                <Button Grid.Column="1" Style="{StaticResource NumberBtn}" Click="Dot_Click" Content="."/>
                <Button Grid.Column="2" Grid.ColumnSpan="2" Style="{StaticResource EqualsBtn}" Click="Equals_Click" Content="="/>
            </Grid>
        </Grid>
    </Grid>
</Window>